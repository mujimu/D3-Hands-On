<!DOCTYPE html>
<html>
<head>
    <title>D3 Hands On</title>
    <style>


    </style>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/colorbrewer.v1.min.js"></script>
</head>
<body>
    <h1>D3 Sample</h1>
</body>

<script type="text/javascript">
    var dataset = [53245, 28479, 19697, 24037, 40245];

    var width = 460,
            height = 300,
            radius = Math.min(width, height) / 2;

    var color = d3.scale.category20();

    var pie = d3.layout.pie()
        .sort(null)  // disable
    ;

    var arc = d3.svg.arc()
        .innerRadius(radius - 100)
        .outerRadius(radius - 50)
    ;

    var svg = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height)
            .append("g")
            .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    var path = svg.selectAll("path")
            .data(pie(dataset))
            .enter()
            .append("path")
            .attr("fill", function(d, i) { return color(i); })
            .attr("d", arc);


    console.log('fin.');

    /*
    // change colors
    color = d3.scale.category20b();
    path.attr("fill", function(d,i) { return color(i); });

    // see what pie layout is returning
    pie([1,2,3])

    // order the chunks desc
    pie.sort(d3.descending);
    path.data(pie(dataset))   // update
        .attr("d", arc)
    ;

    ... regardless in sort, index order stays same
    path.data();
    path.data()[2].data === dataset[2];

    */


</script>
</html>
